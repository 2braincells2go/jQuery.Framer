/**
 * jQuery Framer Plugin
 *
 * @author		Hirohisa Nagai
 * @version		0.81
 * @copyright	eternity design ( http://eternitydesign.net/ )
 * @license		MIT License
 *
 * include spin.js
 * fgnass.github.com/spin.js#v2.3.1
 *
 */
!function($){var t=$.Framer={};$.fn.Framer=function(e){e=$.extend({animation:"fade",loader:"spin",loaderColor:"#fff",opacity:.8,overlayTime:500,isOverlayClose:!0,isAutoResize:!0,isScroll:!0,resizeRatio:.9,speed:500,title:'<div id="frmTitle"></div>',description:'<div id="frm_description">{description}</div>',closeBtn:'<div class="close_btn"></div>',inner:{},width:640,height:360,iframe:'<iframe name="framer-iframe" frameborder="0" id="framer-iframe"></iframe>',ajaxDataType:"html",blur:"",isPushState:!1,isCSSAnim:!1},e),t.target,t.body,t.contents,t.indicator,t.box,t.type,t.title,t.description,t.closeBtn,t.container,t.blurTarget,t.animation;var i,r,a,o=!1,n=location.href;t.open=function(a){if(t.body=$("body"),r=$('<div id="frm_overlay"></div>'),r.css("opacity",0),r.height($(document).height()).width($(window).width()),i=$('<div id="frm_loader"></div>').css({width:$(window).width(),height:$(window).height(),top:$(window).scrollTop()}),"circle"===e.loader)t.indicator=$('<div class="circle_loader"><div></div><div></div><div></div></div>'),i.append(t.indicator);else{var o={lines:12,width:4,color:e.loaderColor};t.indicator=new Spinner(o).spin(i[0])}return t.body.append(i),t.body.append(r),r.fadeTo(e.overlayTime,e.opacity),""!==e.blur&&(t.blurTarget=$(e.blur).Vague({intensity:8,animationOptions:{duration:e.speed,easing:"linear"}}),t.blurTarget.blur()),t.box=$('<div id="framer"></div>'),t.container=$('<div id="framerContainer" />'),t.box.append(t.container),arguments.length>1?(t.target=$("<a />"),t.target.attr("href",arguments[0]),t.target.attr("data-framer-type",arguments[1]),$.isPlainObject(arguments[2])&&(e=$.extend(e,arguments[2]))):t.target=$(this),t.animation=t.target.attr("data-framer-animation")||e.animation,"fade"!==t.animation&&(t.container.css({"transition-duration":String(.001*e.speed)+"s"}),t.box.addClass(t.animation)),$.isEmptyObject(e.inner)||t.box.append(e.inner),t.target.attr("title")&&""!=e.title&&(e.title.search(/{title}/)?t.title=$(e.title.replace(/{title}/,t.target.attr("title"))):t.title=$(e.title).text(t.target.attr("title")),t.container.append(t.title)),t.target.attr("data-framer-description")&&""!=e.description&&(e.description.search(/{description}/)?t.description=$(e.description.replace(/{description}/,t.target.attr("data-framer-description"))):t.description=$(e.description).text(t.target.attr("data-framer-description")),t.container.append(t.description)),t.type=w(t.target.attr("href"),t.target.attr("data-framer-type")),"image"==t.type?(t.contents=$("<img />").on("load",function(){d()}).on("error",function(){}),t.contents.attr("src",t.target.attr("href"))):"inline"==t.type?t.contents=v():"video"==t.type?t.contents=y():"youtube"==t.type?t.contents=b():"vimeo"==t.type?t.contents=x():"soundcloud"==t.type?t.contents=F():"twitch"==t.type?t.contents=T():"iframe"==t.type?t.contents=C():"ajax"==t.type&&I.apply(this),"image"!=t.type&&"ajax"!=t.type&&c(),t.box.addClass(t.type),$(window).on("resize.Framer",f),e.isScroll&&($(window).on("scroll.Framer",m),$(window).on("scrollComplete.Framer",g)),!1},t.close=function(){$(window).off("resize.Framer",f),t.closeBtn.off("click",$.Framer.close),e.isScroll&&($(window).off("scroll.Framer",m),$(window).off("scrollComplete.Framer",g)),e.isOverlayClose&&r.off("click",$.Framer.close),""!=e.closeBtn&&t.closeBtn.fadeOut(e.speed),r.fadeOut(e.overlayTime),""!==e.blur&&t.blurTarget.unblur(),"fade"!==t.animation?(t.container.on("transitionend webkitTransitionEnd",s),t.box.removeClass("show")):t.box.fadeOut(e.speed,s)};var s=function(){"fade"!==t.animation&&(t.container.off("transitionend webkitTransitionEnd",s),t.box.css({display:"none"})),"inline"==t.type?(t.contents.hide(),t.body.append(t.contents)):"video"==t.type&&FramerVideo.destroy(),$.isEmptyObject(e.inner)||$(e.inner).remove(),t.title&&t.title.remove(),t.description&&t.description.remove(),t.closeBtn.remove(),"inline"!=t.type&&t.contents.remove(),t.container.remove(),t.box.remove(),r.remove(),e.isPushState&&o&&window.history.back(),t.body.trigger("close.Framer")},d=function(){t.contents=p(t.contents),c()},c=function(){t.container.append(t.contents),t.body.append(t.box),h(),"circle"===e.loader?t.indicator.remove():t.indicator.stop(),delete t.indicator,i.remove(),""!=e.closeBtn&&(t.closeBtn=$(e.closeBtn)),"fade"!==t.animation?(t.box.css({display:"block"}).addClass("show"),t.container.on("transitionend webkitTransitionEnd",l)):t.box.fadeIn(e.speed,function(){l()})},l=function(){if("fade"!==t.animation&&t.container.off("transitionend webkitTransitionEnd",l),"video"==t.type&&(FramerVideo=_V_("framer_video",$.parseJSON(t.target.attr("data-framer-video-setup"))),z())){var i=t.target.attr("href");i.match(/\.webm$/i)||i.match(/\.webm$/i)||i.match(/\.mp4$/i)?i.match(/\.mp4$/i)&&FramerVideo.src(i):FramerVideo.src(i+".mp4"),FramerVideo.width(t.contents.width()||t.target.attr("data-framer-width")||e.width),FramerVideo.height(t.contents.height()||t.target.attr("data-framer-height")||e.height)}e.isOverlayClose&&r.on("click",$.Framer.close),""!=e.closeBtn&&(t.container.append(t.closeBtn),t.closeBtn.fadeIn(e.speed),t.closeBtn.on("click",$.Framer.close)),e.isPushState&&null!=t.target.attr("data-framer-ps")&&(window.history.pushState(t.target.attr("data-framer-ps"),"",t.target.attr("data-framer-ps")),o=!0),t.body.trigger("open.Framer")},h=function(){t.box.css({top:Math.floor(.5*($(window).height()-t.box.outerHeight()))+$(window).scrollTop(),left:Math.floor(.5*($(window).width()-t.box.outerWidth()))})},p=function(i){var r,a,o;if("image"===t.type){var n=j(t.contents[0]);r=parseInt(t.target.attr("data-framer-width")||n.width),a=parseInt(t.target.attr("data-framer-height")||n.height)}else"soundcloud"===t.type?(r=parseInt(t.target.attr("data-framer-width")||e.width),a=166):"twitch"===t.type?(r=parseInt(t.target.attr("data-framer-width")||620),a=parseInt(t.target.attr("data-framer-height")||378)):"inline"===t.type||"ajax"===t.type?(r=parseInt(t.target.attr("data-framer-width")||i.outerWidth()||e.width),a=parseInt(t.target.attr("data-framer-height")||i.outerHeight()||e.height)):(r=parseInt(t.target.attr("data-framer-width")||e.width),a=parseInt(t.target.attr("data-framer-height")||e.height));var s=0===t.container.outerWidth()?t.container.outerWidth():t.container.outerWidth()-t.container.width(),d=0===t.container.outerHeight()?t.container.outerHeight():t.container.outerHeight()-t.container.height(),c=0===s?r+s:s-r,l=0===d?a+d:d-a,h=$(window).width(),p=$(window).height(),f=h-r,m=p-a,g=t.box.height()-a;return f>m?p*e.resizeRatio<l?e.isAutoResize&&(t.box.height(p*e.resizeRatio),o=t.box.height()/l,t.box.width(c*o),i=u(i,parseInt(t.box.width()-s),parseInt(t.box.height()-d))):(t.box.width(c),t.box.height(l),i=u(i,r,a)):h*e.resizeRatio<c?e.isAutoResize&&(t.box.width(h*e.resizeRatio),o=t.box.width()/c,t.box.height(l*o),i=u(i,parseInt(t.box.width()-s),parseInt(t.box.height()-d))):(t.box.width(c),t.box.height(l),i=u(i,r,a)),i},u=function(e,i,r){var a=e.width(),o=e.height();if(0===a)e.width(i);else{var n=e.outerWidth()-a;n>0?e.width(i-n):e.width(i)}if(0===o)e.height(r);else{var s=e.outerHeight()-o;s>0?e.height(r-s):e.height(r)}return"video"===t.type&&e.attr({width:e.width(),height:e.height()}),e},f=function(t){r.height($(document).height()).width($(window).width()),g()},m=function(){a&&clearTimeout(a),a=setTimeout(function(){a=null,$(window).trigger("scrollComplete.Framer")},500)},g=function(){t.contents=p(t.contents),t.box.stop().animate({top:Math.floor(.5*($(window).height()-t.box.outerHeight()))+$(window).scrollTop(),left:Math.floor(.5*($(window).width()-t.box.outerWidth()))},e.speed)},w=function(t,e){return t.match(/youtube\.com\/watch/i)||t.match(/youtu\.be/i)||"youtube"==e?"youtube":t.match(/vimeo\.com/i)||"vimeo"==e?"vimeo":t.match(/soundcloud\.com/i)||"soundcloud"==e?"soundcloud":t.match(/twitch\.tv/i)||"twitch"==e?"twitch":"#"==t.substr(0,1)||"inline"==e?"inline":"video"==e?"video":"iframe"==e?"iframe":"ajax"==e?"ajax":t.match(/\.(gif|jpg|jpeg|png)$/i)||"image"==e?"image":void 0},v=function(){var e=$(t.target.attr("href")).show();return e=p(e)},y=function(){var e=$('<video id="framer_video"></video>');e.addClass(t.target.attr("data-framer-video-class"));var i=t.target.attr("href");return i.match(/\.mp4$/i)?e.append('<source src="'+i+'" type="video/mp4" />'):i.match(/\.webm$/i)?e.append('<source src="'+i+'" type="video/webm" />'):i.match(/\.ogv$/i)?e.append('<source src="'+i+'" type="video/ogv" />'):(e.append('<source src="'+i+'.mp4" type="video/mp4" />'),e.append('<source src="'+i+'.webm" type="video/webm" />'),e.append('<source src="'+i+'.ogv" type="video/ogv" />')),e=p(e)},b=function(){var e=t.target.attr("href").match(/(youtube\.com|youtu\.be)\/(v\/|u\/|embed\/|watch\?v=)?([^#\&\?]*).*/i),i=e[3],r=$('<iframe frameborder="0"></iframe>'),a="";return t.target.attr("data-youtube-option")&&(a=t.target.attr("data-youtube-option").replace(/^\?/,"")),r.attr({src:"http://www.youtube.com/embed/"+i+"?wmode=opaque&"+a}),r=p(r)},x=function(){var e=t.target.attr("href").match(/vimeo\.com\/([^#\&\?]*).*/i),i=e[1],r=$('<iframe frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');return r.attr({src:"http://player.vimeo.com/video/"+i}),r=p(r)},T=function(){var e,i=!0;if(t.target.attr("href").match(/\/[a-z]{1}\/[0-9]+$/i)&&(i=!1),i){var e=$('<iframe frameborder="0" scrolling="no"></iframe>');e.attr({src:t.target.attr("href")+"/embed"}),e=p(e)}else{var r=t.target.attr("href").match(/twitch\.tv\/([^#\&\?\/]*)\/v\/([0-9]*)/i),a=r[1],o=r[2],e=$('<object bgcolor="#000000" data="http://www.twitch.tv/swflibs/TwitchPlayer.swf" id="clip_embed_player_flash" type="application/x-shockwave-flash"></object>'),n='<param name="movie" value="http://www.twitch.tv/swflibs/TwitchPlayer.swf" /><param name="allowScriptAccess" value="always" /><param name="allowNetworking" value="all" /><param name="allowFullScreen" value="true" /><param name="flashvars" value="channel=%channel%&auto_play=false&start_volume=25&videoId=v%videoId%&device_id=65b095e38ed0b7d9" />';n=n.replace("%channel%",a),n=n.replace("%videoId%",o),e=p(e),e.append(n)}return e},F=function(){var e=$('<iframe frameborder="0"></iframe>');return e.attr({src:"https://w.soundcloud.com/player/?url="+t.target.attr("href")}),e=p(e)},C=function(){var i=$(e.iframe);return i.attr({src:t.target.attr("href")}),i=p(i)},I=function(){$.ajax({type:"GET",url:t.target.attr("href"),dataType:t.target.attr("data-framer-ajax-type")||e.ajaxDataType,success:function(e){t.contents=$(e),t.contents=p(t.contents),c()},error:function(e,i){t.contents=$('<div id="framer_error">'+i+"</div>"),t.contents=p(t.contents),c()}})},k=function(t){for(var e=[],i,r=t.slice(t.indexOf("?")+1).split("&"),a=0;a<r.length;a++)i=r[a].split("="),e.push(i[0]),e[i[0]]=i[1];return e},S=function(){var t=location.href,e=t.split("/"),i=e[e.length-1];return i.match(/.html$/)?e[e.length-2]:i},j=function(t){var e,i;return"undefined"!=typeof t.naturalWidth?(e=t.naturalWidth,i=t.naturalHeight):"undefined"!=typeof t.runtimeStyle?(e=t.width,i=t.height):(e=t.width,i=t.height),{width:e,height:i}},z=function(){return $.support.checkOn&&$.support.noCloneEvent&&!$.support.noCloneChecked&&!$.support.cors?!0:$.support.opacity?!1:!0},B=function(){return $.support.opacity?!1:$.support.hrefNormalized?!0:!1},O=function(t){var e=t.originalEvent.state;null==e&&1==o&&$.Framer.close()};return e.isPushState&&$(window).on("popstate",$.proxy(O,this)),this.on("click.Framer",$.Framer.open),this}}(jQuery),!function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()}(this,function(){"use strict";function t(t,e){var i,r=document.createElement(t||"div");for(i in e)r[i]=e[i];return r}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,r){var a=["opacity",e,~~(100*t),i,r].join("-"),o=.01+i/r*100,n=Math.max(1-(1-t)/e*(100-o),t),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),d=s&&"-"+s+"-"||"";return p[a]||(l.insertRule("@"+d+"keyframes "+a+"{0%{opacity:"+n+"}"+o+"%{opacity:"+t+"}"+(o+.01)+"%{opacity:1}"+(o+e)%100+"%{opacity:"+t+"}100%{opacity:"+n+"}}",l.cssRules.length),p[a]=1),a}function r(t,e){var i,r,a=t.style;if(e=e.charAt(0).toUpperCase()+e.slice(1),void 0!==a[e])return e;for(r=0;r<h.length;r++)if(i=h[r]+e,void 0!==a[i])return i}function a(t,e){for(var i in e)t.style[r(t,i)||i]=e[i];return t}function o(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)void 0===t[r]&&(t[r]=i[r])}return t}function n(t,e){return"string"==typeof t?t:t[e%t.length]}function s(t){this.opts=o(t||{},s.defaults,u)}function d(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}l.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(t,r){function o(){return a(i("group",{coordsize:l+" "+l,coordorigin:-c+" "+-c}),{width:l,height:l})}function s(t,s,d){e(p,e(a(o(),{rotation:360/r.lines*t+"deg",left:~~s}),e(a(i("roundrect",{arcsize:r.corners}),{width:c,height:r.scale*r.width,left:r.scale*r.radius,top:-r.scale*r.width>>1,filter:d}),i("fill",{color:n(r.color,t),opacity:r.opacity}),i("stroke",{opacity:0}))))}var d,c=r.scale*(r.length+r.width),l=2*r.scale*c,h=-(r.width+r.length)*r.scale*2+"px",p=a(o(),{position:"absolute",top:h,left:h});if(r.shadow)for(d=1;d<=r.lines;d++)s(d,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(d=1;d<=r.lines;d++)s(d);return e(t,p)},s.prototype.opacity=function(t,e,i,r){var a=t.firstChild;r=r.shadow&&r.lines||0,a&&e+r<a.childNodes.length&&(a=a.childNodes[e+r],a=a&&a.firstChild,a=a&&a.firstChild,a&&(a.opacity=i))}}var c,l,h=["webkit","Moz","ms","O"],p={},u={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},o(s.prototype,{spin:function(e){this.stop();var i=this,r=i.opts,o=i.el=t(null,{className:r.className});if(a(o,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),e&&e.insertBefore(o,e.firstChild||null),o.setAttribute("role","progressbar"),i.lines(o,i.opts),!c){var n,s=0,d=(r.lines-1)*(1-r.direction)/2,l=r.fps,h=l/r.speed,p=(1-r.opacity)/(h*r.trail/100),u=h/r.lines;!function f(){s++;for(var t=0;t<r.lines;t++)n=Math.max(1-(s+(r.lines-t)*u)%h*p,r.opacity),i.opacity(o,t*r.direction+d,n,r);i.timeout=i.el&&setTimeout(f,~~(1e3/l))}()}return i},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(r,o){function s(e,i){return a(t(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var d,l=0,h=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)d=a(t(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&i(o.opacity,o.trail,h+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&e(d,a(s("#000","0 0 4px #000"),{top:"2px"})),e(r,e(d,s(n(o.color,l),"0 0 1px rgba(0,0,0,.1)")));return r},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),"undefined"!=typeof document){l=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}();var f=a(t("group"),{behavior:"url(#default#VML)"});!r(f,"transform")&&f.adj?d():c=r(f,"animation")}return s});